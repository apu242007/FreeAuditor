<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FreeAuditor - Constructor de Formularios</title>
    <style>
      body {
        font-family: system-ui, sans-serif;
        margin: 0;
        padding: 2rem;
        background: #f7f7f7;
        color: #333;
      }

      h1 {
        text-align: center;
        margin-bottom: 1rem;
      }

      .builder {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .toolbox,
      .preview {
        flex: 1 1 300px;
        background: white;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 1rem;
      }

      .toolbox button {
        display: block;
        margin-bottom: 0.5rem;
        width: 100%;
        padding: 0.5rem;
        background: #667eea;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      .form-group {
        margin-bottom: 1rem;
      }

      label {
        display: block;
        margin-bottom: 0.25rem;
      }

      .form-group .remove {
        margin-top: 0.5rem;
        background: #e53e3e;
        color: white;
        border: none;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h1>FreeAuditor</h1>
    <p style="text-align: center">Constructor de formularios en desarrollo.</p>
    <div class="builder">
      <div class="toolbox">
        <h2>Componentes</h2>
        <button id="add-text">Texto</button>
        <button id="add-single">Selección única</button>
        <button id="add-multiple">Selección múltiple</button>
      </div>
      <div class="preview">
        <h2>Vista previa</h2>
        <form id="form"></form>
      </div>
    </div>
    <script>
      const formContainer = document.getElementById("form");
      let questionCount = 0;

      function createQuestionWrapper(labelText) {
        questionCount += 1;
        const qId = `q${questionCount}`;
        const wrapper = document.createElement("div");
        wrapper.className = "form-group";
        const label = document.createElement("label");
        label.textContent = labelText;
        wrapper.appendChild(label);
        const removeBtn = document.createElement("button");
        removeBtn.type = "button";
        removeBtn.textContent = "Eliminar";
        removeBtn.className = "remove";
        removeBtn.addEventListener("click", () => wrapper.remove());
        wrapper.appendChild(removeBtn);
        return { wrapper, qId, removeBtn };
      }

      function addTextQuestion() {
        const labelText =
          prompt("Texto de la pregunta") || `Pregunta ${questionCount + 1}`;
        const { wrapper, removeBtn } = createQuestionWrapper(labelText);
        const input = document.createElement("input");
        input.type = "text";
        wrapper.insertBefore(input, removeBtn);
        formContainer.appendChild(wrapper);
      }

      function addSingleChoiceQuestion() {
        const labelText =
          prompt("Texto de la pregunta") || `Pregunta ${questionCount + 1}`;
        const { wrapper, qId, removeBtn } = createQuestionWrapper(labelText);
        ["Opción 1", "Opción 2"].forEach((text, idx) => {
          const optWrapper = document.createElement("div");
          const input = document.createElement("input");
          input.type = "radio";
          input.name = qId;
          input.id = `${qId}-o${idx}`;
          const optLabel = document.createElement("label");
          optLabel.setAttribute("for", input.id);
          optLabel.textContent = text;
          optWrapper.append(input, optLabel);
          wrapper.insertBefore(optWrapper, removeBtn);
        });
        formContainer.appendChild(wrapper);
      }

      function addMultipleChoiceQuestion() {
        const labelText =
          prompt("Texto de la pregunta") || `Pregunta ${questionCount + 1}`;
        const { wrapper, qId, removeBtn } = createQuestionWrapper(labelText);
        ["Opción 1", "Opción 2", "Opción 3"].forEach((text, idx) => {
          const optWrapper = document.createElement("div");
          const input = document.createElement("input");
          input.type = "checkbox";
          input.name = `${qId}-o${idx}`;
          input.id = `${qId}-o${idx}`;
          const optLabel = document.createElement("label");
          optLabel.setAttribute("for", input.id);
          optLabel.textContent = text;
          optWrapper.append(input, optLabel);
          wrapper.insertBefore(optWrapper, removeBtn);
        });
        formContainer.appendChild(wrapper);
      }

      document
        .getElementById("add-text")
        .addEventListener("click", addTextQuestion);
      document
        .getElementById("add-single")
        .addEventListener("click", addSingleChoiceQuestion);
      document
        .getElementById("add-multiple")
        .addEventListener("click", addMultipleChoiceQuestion);
    </script>
  </body>
</html>